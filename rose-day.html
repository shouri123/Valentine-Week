<!DOCTYPE html>
<html class="dark" lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>The Valentine Chronicle | Rose Day</title>
    <!-- Date Lock Protection - Redirect if day is locked -->
    <script src="date-lock.js"></script>
    <script>checkPageAccess(7);</script>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;300;400;500;600;700;800&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
    
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "rose-dark": "#1a0508", // Very dark rose background
                        "rose-panel": "#2d0a12", // Sidebar/Card background
                        "rose-border": "#4c1d29", // Borders
                        "primary": "#fb7185", // Light rose accent
                        "primary-hover": "#f43f5e",
                        "text-main": "#fff1f2",
                        "text-muted": "#fda4af",
                    },
                    fontFamily: {
                        "sans": ["Plus Jakarta Sans", "sans-serif"],
                        "serif": ["Playfair Display", "serif"],
                    },
                    backgroundImage: {
                        'rose-gradient': 'linear-gradient(to bottom right, #2d0a12, #1a0508)',
                    }
                },
            },
        }
    </script>
    <style>
        body { font-family: "Plus Jakarta Sans", sans-serif; }
        .serif { font-family: "Playfair Display", serif; }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #1a0508; }
        ::-webkit-scrollbar-thumb { background: #4c1d29; border-radius: 4px; }
        
        /* Rose Petal Texture */
        .petal-texture {
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23fb7185' fill-opacity='0.05' fill-rule='evenodd'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E");
        }

        /* Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(2deg); }
        }
        .float-anim { animation: float 6s ease-in-out infinite; }
        
        .glass-panel {
            background: rgba(45, 10, 18, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(251, 113, 133, 0.1);
        }
    </style>
</head>
<body class="bg-rose-dark text-text-main min-h-screen flex flex-col md:flex-row overflow-hidden opacity-0" id="app-body">

    <!-- Toast Container -->
    <div id="toast-container" class="fixed bottom-6 right-6 z-50 flex flex-col gap-2 pointer-events-none"></div>

    <!-- SIDEBAR -->
    <aside class="w-full md:w-[320px] flex-shrink-0 bg-rose-panel flex flex-col border-r border-rose-border h-screen overflow-y-auto relative z-20 sidebar-panel">
        <div class="p-6">
            <!-- Header -->
            <div class="flex gap-4 items-center mb-8 sidebar-header">
                <div class="relative w-12 h-12 flex items-center justify-center bg-rose-900 rounded-full border border-primary/30 shadow-lg shadow-rose-900/50">
                    <span class="text-2xl">üåπ</span>
                    <span class="absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-rose-panel"></span>
                </div>
                <div class="flex flex-col">
                    <h1 class="text-white text-lg font-bold leading-tight tracking-tight serif italic">The Chronicle</h1>
                    <p class="text-primary text-[10px] font-bold uppercase tracking-[0.2em]">Valentine 2026</p>
                </div>
            </div>
            
            <!-- Navigation -->
            <nav class="flex flex-col gap-2 sidebar-nav">
                <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-xl bg-gradient-to-r from-rose-900/50 to-rose-800/20 border border-primary/30 shadow-lg relative overflow-hidden group nav-item active">
                    <div class="absolute inset-0 bg-primary/10 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                    <span class="material-symbols-outlined text-primary fill-current">deceased</span>
                    <div class="flex flex-col">
                        <span class="text-white text-sm font-bold">Rose Day</span>
                        <span class="text-[10px] text-text-muted">Feb 07 ‚Ä¢ Entry 01</span>
                    </div>
                </a>
                
                <!-- Inactive Items -->
                <a href="propose-day.html" class="flex items-center gap-3 px-4 py-3 rounded-xl transition-colors hover:bg-white/5 group opacity-60 hover:opacity-100 cursor-pointer nav-item">
                    <span class="material-symbols-outlined text-text-muted group-hover:text-primary transition-colors">ring_volume</span>
                    <span class="text-sm font-medium">Propose Day</span>
                </a>
                <a href="chocolate-day.html" class="flex items-center gap-3 px-4 py-3 rounded-xl transition-colors hover:bg-white/5 group opacity-60 hover:opacity-100 cursor-pointer nav-item">
                    <span class="material-symbols-outlined text-text-muted group-hover:text-primary transition-colors">cookie</span>
                    <span class="text-sm font-medium">Chocolate Day</span>
                </a>
                <a href="teddy-day.html" class="flex items-center gap-3 px-4 py-3 rounded-xl transition-colors hover:bg-white/5 group opacity-60 hover:opacity-100 cursor-pointer nav-item">
                    <span class="material-symbols-outlined text-text-muted group-hover:text-primary transition-colors">redeem</span>
                    <span class="text-sm font-medium">Teddy Day</span>
                </a>
                <a href="promise-day.html" class="flex items-center gap-3 px-4 py-3 rounded-xl transition-colors hover:bg-white/5 group opacity-60 hover:opacity-100 cursor-pointer nav-item">
                    <span class="material-symbols-outlined text-text-muted group-hover:text-primary transition-colors">handshake</span>
                    <span class="text-sm font-medium">Promise Day</span>
                </a>
                <a href="hug-day.html" class="flex items-center gap-3 px-4 py-3 rounded-xl transition-colors hover:bg-white/5 group opacity-60 hover:opacity-100 cursor-pointer nav-item">
                    <span class="material-symbols-outlined text-text-muted group-hover:text-primary transition-colors">sentiment_satisfied</span>
                    <span class="text-sm font-medium">Hug Day</span>
                </a>
                <a href="kiss-day.html" class="flex items-center gap-3 px-4 py-3 rounded-xl transition-colors hover:bg-white/5 group opacity-60 hover:opacity-100 cursor-pointer nav-item">
                    <span class="material-symbols-outlined text-text-muted group-hover:text-primary transition-colors">favorite</span>
                    <span class="text-sm font-medium">Kiss Day</span>
                </a>
                <a href="valentines-day.html" class="flex items-center gap-3 px-4 py-3 rounded-xl transition-colors hover:bg-white/5 group opacity-60 hover:opacity-100 cursor-pointer nav-item">
                    <span class="material-symbols-outlined text-text-muted group-hover:text-primary transition-colors">favorite_border</span>
                    <span class="text-sm font-medium">Valentine's Day</span>
                </a>
            </nav>
        </div>

        <!-- Sidebar Footer (Countdown) -->
        <div class="mt-auto p-6 flex flex-col gap-6 bg-[#26090f] sidebar-footer border-t border-rose-border">
            <div class="flex flex-col gap-3">
                <div class="flex justify-between items-end">
                    <span class="text-text-muted text-[10px] font-bold uppercase tracking-widest">Next Chapter In</span>
                    <span class="material-symbols-outlined text-primary text-sm animate-pulse">timer</span>
                </div>
                
                <div class="grid grid-cols-3 gap-2">
                    <div class="bg-rose-950/50 rounded-lg p-2 text-center border border-rose-border">
                        <span id="cd-h" class="block text-lg font-bold text-white font-mono">00</span>
                        <span class="text-[8px] text-primary uppercase">Hrs</span>
                    </div>
                    <div class="bg-rose-950/50 rounded-lg p-2 text-center border border-rose-border">
                        <span id="cd-m" class="block text-lg font-bold text-white font-mono">00</span>
                        <span class="text-[8px] text-primary uppercase">Min</span>
                    </div>
                    <div class="bg-rose-950/50 rounded-lg p-2 text-center border border-rose-border">
                        <span id="cd-s" class="block text-lg font-bold text-white font-mono">00</span>
                        <span class="text-[8px] text-primary uppercase">Sec</span>
                    </div>
                </div>
            </div>

            <div class="flex items-center justify-between pt-2">
                <button class="text-text-muted hover:text-white transition-colors flex items-center gap-2 text-xs">
                    <span class="material-symbols-outlined text-[16px]">settings</span>
                    Prefs
                </button>
                <button class="text-text-muted hover:text-primary transition-colors flex items-center gap-2 text-xs">
                    <span class="material-symbols-outlined text-[16px]">logout</span>
                    Exit
                </button>
            </div>
        </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="flex-1 relative h-screen overflow-y-auto bg-rose-dark scroll-smooth main-content petal-texture">
        <!-- Ambient Background -->
        <div class="absolute inset-0 pointer-events-none overflow-hidden">
            <div class="absolute top-[-10%] right-[-10%] w-[600px] h-[600px] rounded-full bg-rose-900 blur-[150px] opacity-20 mix-blend-screen"></div>
            <div class="absolute bottom-[10%] left-[-10%] w-[500px] h-[500px] rounded-full bg-primary blur-[120px] opacity-10 mix-blend-screen"></div>
            <!-- Floating Petals -->
            <div class="absolute top-20 right-20 text-4xl opacity-20 float-anim select-none">üåπ</div>
            <div class="absolute bottom-40 left-32 text-3xl opacity-10 float-anim select-none" style="animation-delay: 1.5s">‚ú®</div>
        </div>

        <div class="relative z-10 max-w-[1600px] mx-auto px-6 py-10 md:px-12 lg:px-16">
            
            <!-- Hero Section -->
            <header class="flex flex-col md:flex-row gap-8 items-start justify-between mb-12 hero-section">
                <div class="flex flex-col gap-4 max-w-2xl hero-text">
                    <div class="flex items-center gap-3">
                        <span class="px-3 py-1 rounded-full bg-rose-950 border border-rose-border text-primary text-xs font-bold uppercase tracking-wider">Chapter 01</span>
                        <span class="w-1.5 h-1.5 rounded-full bg-primary animate-pulse"></span>
                        <span class="text-text-muted text-sm">February 7th</span>
                    </div>
                    <h1 class="text-5xl md:text-7xl serif font-bold text-transparent bg-clip-text bg-gradient-to-b from-white to-rose-200 tracking-tight drop-shadow-sm">
                        Rose Day
                        <span class="inline-block align-middle ml-2 text-5xl filter drop-shadow-lg float-anim">üåπ</span>
                    </h1>
                    <p class="text-xl text-text-muted font-light leading-relaxed max-w-lg">
                        The language of silence. A single rose speaks volumes‚Äîpassion in red, friendship in yellow, and the gentle whisper of grace in pink.
                    </p>
                </div>

                <!-- Eternal Garden Widget (Moved from Sidebar in original to Hero Widget here) -->
                <div class="hidden md:flex flex-col items-end gap-3 hero-widget">
                    <div class="glass-panel p-5 rounded-2xl shadow-xl w-[280px]">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-xs font-bold uppercase tracking-widest text-text-muted">Eternal Garden</span>
                            <span class="material-symbols-outlined text-primary text-sm">yard</span>
                        </div>
                        <div class="grid grid-cols-4 gap-2">
                            <div class="aspect-square rounded-lg bg-rose-950/50 border border-rose-border/50 flex items-center justify-center text-xl grayscale filter hover:grayscale-0 transition-all cursor-help" title="Rose Day">üåπ</div>
                            <div class="aspect-square rounded-lg bg-rose-950/30 border border-rose-border/30 flex items-center justify-center text-xl opacity-30">üíç</div>
                            <div class="aspect-square rounded-lg bg-rose-950/30 border border-rose-border/30 flex items-center justify-center text-xl opacity-30">üç´</div>
                            <div class="aspect-square rounded-lg bg-rose-950/30 border border-rose-border/30 flex items-center justify-center text-xl opacity-30">üß∏</div>
                        </div>
                        <p class="text-[10px] text-text-muted mt-3 text-center">Collect memories to bloom.</p>
                    </div>
                </div>
            </header>

            <!-- Main Interactive Content -->
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-10 content-grid">
                
                <!-- Left Column: Featured Interaction -->
                <div class="lg:col-span-8 flex flex-col gap-8">
                    <!-- Featured Card -->
                    <div class="relative rounded-3xl overflow-hidden group bg-rose-panel border border-rose-border shadow-2xl min-h-[420px] content-card">
                        <!-- BG Image -->
                        <div class="absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-105" style='background-image: url("https://images.unsplash.com/photo-1518621736915-f3b1c41bfd00?q=80&w=2576&auto=format&fit=crop");'></div>
                        <div class="absolute inset-0 bg-gradient-to-t from-rose-dark via-rose-dark/60 to-transparent opacity-90"></div>
                        
                        <div class="relative h-full flex flex-col justify-end p-8 md:p-10 z-10">
                            <h2 class="text-3xl md:text-4xl serif font-bold text-white mb-3">A Digital Bouquet</h2>
                            <p class="text-rose-100/80 text-base md:text-lg max-w-xl mb-8 font-light">
                                Send a virtual rose that never withers. Customize the color to match your intent and attach a note that will last forever in the chronicle.
                            </p>
                            <div class="flex flex-wrap gap-4">
                                <button onclick="document.getElementById('note-input').focus()" class="bg-primary hover:bg-primary-hover text-white px-6 py-3.5 rounded-xl font-bold text-sm tracking-wide shadow-lg shadow-primary/20 transition-all flex items-center gap-2 transform hover:-translate-y-1 active:scale-95">
                                    <span class="material-symbols-outlined text-[20px]">edit_note</span>
                                    Write a Note
                                </button>
                                <button class="bg-white/10 hover:bg-white/20 backdrop-blur-md text-white px-6 py-3.5 rounded-xl font-medium text-sm border border-white/10 transition-all flex items-center gap-2 active:scale-95">
                                    <span class="material-symbols-outlined text-[20px]">palette</span>
                                    Rose Colors
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Music & Vibes -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Spotify Player -->
                        <div class="glass-panel p-6 rounded-3xl content-card flex flex-col gap-4 group hover:border-primary/40 transition-colors">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-full bg-rose-950 flex items-center justify-center animate-spin-slow">
                                        <span class="material-symbols-outlined text-primary text-sm">music_note</span>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-sm text-white">Love Frequency</h4>
                                        <p class="text-[10px] text-primary uppercase tracking-wider">Now Playing</p>
                                    </div>
                                </div>
                                <div class="flex gap-1 h-4 items-end">
                                    <span class="w-1 bg-primary h-2 animate-bounce"></span>
                                    <span class="w-1 bg-primary h-4 animate-bounce" style="animation-delay: 0.1s"></span>
                                    <span class="w-1 bg-primary h-3 animate-bounce" style="animation-delay: 0.2s"></span>
                                </div>
                            </div>
                            <iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/06aqaubXAEfEcgMiNffGx4?utm_source=generator&theme=0" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
                        </div>

                        <!-- Quote/Mood -->
                        <div class="glass-panel p-6 rounded-3xl content-card flex flex-col justify-center items-center text-center group hover:border-primary/40 transition-colors">
                            <span class="material-symbols-outlined text-4xl text-primary/50 mb-2">format_quote</span>
                            <p class="serif text-lg text-white italic leading-relaxed">"Love is the only flower that grows without the aid of seasons."</p>
                            <span class="text-xs text-rose-300 mt-2 font-light">‚Äî Khalil Gibran</span>
                        </div>
                    </div>
                </div>

                <!-- Right Column: Note Interaction -->
                <div class="lg:col-span-4 flex flex-col gap-6">
                    <!-- Secret Note Widget -->
                    <div class="bg-rose-panel rounded-3xl p-6 border border-rose-border shadow-lg relative overflow-hidden content-card h-full">
                        <div class="absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-bl-full -mr-8 -mt-8"></div>
                        <div class="relative z-10 flex flex-col h-full">
                            <div class="flex items-center gap-3 mb-6">
                                <div class="p-2.5 bg-rose-950 rounded-xl text-primary border border-rose-border">
                                    <span class="material-symbols-outlined">mail</span>
                                </div>
                                <div>
                                    <h3 class="text-lg font-bold text-white">Secret Envelope</h3>
                                    <p class="text-[10px] text-text-muted">Whisper your heart's content</p>
                                </div>
                            </div>
                            
                            <div class="flex-1 flex flex-col gap-4">
                                <textarea id="note-input" class="w-full flex-1 bg-rose-950/50 border border-rose-border rounded-xl p-4 text-sm text-white placeholder-rose-700/50 focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all resize-none font-serif leading-relaxed" placeholder="Dearest..."></textarea>
                                
                                <div class="flex gap-2">
                                    <button onclick="changeColor(this, 'red')" class="w-8 h-8 rounded-full bg-red-600 border-2 border-transparent hover:scale-110 transition-transform ring-2 ring-transparent ring-offset-2 ring-offset-rose-panel selected-color"></button>
                                    <button onclick="changeColor(this, 'pink')" class="w-8 h-8 rounded-full bg-pink-400 border-2 border-transparent hover:scale-110 transition-transform"></button>
                                    <button onclick="changeColor(this, 'yellow')" class="w-8 h-8 rounded-full bg-yellow-400 border-2 border-transparent hover:scale-110 transition-transform"></button>
                                </div>

                                <button onclick="sendNote()" class="w-full py-4 bg-primary hover:bg-primary-hover text-white rounded-xl text-sm font-bold transition-all uppercase tracking-wide shadow-lg shadow-primary/20 flex items-center justify-center gap-2 group">
                                    <span>Seal & Send</span>
                                    <span class="material-symbols-outlined group-hover:translate-x-1 transition-transform text-sm">send</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <footer class="mt-12 border-t border-rose-border pt-8 flex flex-col md:flex-row justify-between items-center gap-4">
                <p class="text-rose-900/50 text-sm">¬© 2026 The Chronicle.</p>
                <div class="flex gap-4">
                    <a href="#" class="text-rose-800 hover:text-primary transition-colors"><span class="material-symbols-outlined">share</span></a>
                </div>
            </footer>
        </div>
    </main>

    <script>
        // --- Interactions ---

        // Toast Notification
        function showToast(message, type = 'success') {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            
            let colors = 'bg-rose-panel border-rose-border text-white';
            let icon = 'check_circle';
            
            if (type === 'locked') {
                colors = 'bg-rose-950 border-rose-800 text-rose-300';
                icon = 'lock';
            }
            
            toast.className = `pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl border ${colors} shadow-2xl transform translate-y-10 opacity-0 transition-all duration-300 min-w-[200px] z-[100] backdrop-blur-md bg-opacity-95`;
            toast.innerHTML = `
                <span class="material-symbols-outlined text-primary text-sm">${icon}</span>
                <span class="text-xs font-bold tracking-wide">${message}</span>
            `;
            
            container.appendChild(toast);
            
            requestAnimationFrame(() => {
                toast.classList.remove('translate-y-10', 'opacity-0');
            });

            setTimeout(() => {
                toast.classList.add('translate-y-10', 'opacity-0');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Color Picker Logic
        let selectedNoteColor = 'red';
        function changeColor(btn, color) {
            document.querySelectorAll('.rounded-full.w-8').forEach(b => {
                b.classList.remove('ring-white');
            });
            btn.classList.add('ring-white');
            selectedNoteColor = color;
            
            // Tint the textarea slightly
            const area = document.getElementById('note-input');
            if(color === 'red') area.style.borderColor = '#dc2626';
            if(color === 'pink') area.style.borderColor = '#f472b6';
            if(color === 'yellow') area.style.borderColor = '#facc15';
        }

        // Send Note Logic
        function sendNote() {
            const input = document.getElementById('note-input');
            if(!input.value.trim()) {
                gsap.from(input, { x: 10, duration: 0.1, repeat: 5, yoyo: true });
                showToast("The envelope is empty!", "locked");
                return;
            }
            
            const btn = document.querySelector('button[onclick="sendNote()"]');
            const originalHTML = btn.innerHTML;
            
            btn.innerHTML = '<span class="material-symbols-outlined animate-spin">autorenew</span>';
            
            setTimeout(() => {
                showToast("Sealed with a kiss üíã");
                btn.innerHTML = originalHTML;
                input.value = "";
                
                // Fly away animation effect mockup
                const flyEl = document.createElement('div');
                flyEl.innerHTML = 'üíå';
                flyEl.className = 'fixed z-50 text-4xl pointer-events-none';
                const rect = btn.getBoundingClientRect();
                flyEl.style.left = rect.left + 'px';
                flyEl.style.top = rect.top + 'px';
                document.body.appendChild(flyEl);
                
                gsap.to(flyEl, {
                    y: -500,
                    x: 200,
                    rotation: 360,
                    opacity: 0,
                    duration: 1.5,
                    ease: "power2.in",
                    onComplete: () => flyEl.remove()
                });
                
            }, 1000);
        }

        // Countdown Logic
        function startCountdown() {
            function update() {
                // Target: Feb 8 2026 (Propose Day)
                updateCountdown('2026-02-08T00:00:00', { h: 'cd-h', m: 'cd-m', s: 'cd-s' });
            }
            setInterval(update, 1000);
            update();
        }

        // GSAP Initialization
        window.addEventListener('load', () => {
            gsap.registerPlugin();
            const tl = gsap.timeline();

            startCountdown();

            // 1. Reveal Body
            tl.to("#app-body", { opacity: 1, duration: 0.8 });

            // 2. Sidebar Entrance
            tl.from(".sidebar-panel", { x: -50, opacity: 0, duration: 1, ease: "power3.out" }, "-=0.4")
              .from(".sidebar-header", { y: -20, opacity: 0, duration: 0.6 }, "-=0.6")
              .from(".nav-item", { x: -20, opacity: 0, stagger: 0.05, duration: 0.5 }, "-=0.4");

            // 3. Main Content Entrance
            tl.from(".hero-text", { y: 30, opacity: 0, duration: 0.8, ease: "back.out(1.5)" }, "-=0.5")
              .from(".hero-widget", { scale: 0.9, opacity: 0, duration: 0.8 }, "-=0.6");

            // 4. Content Cards Stagger
            tl.from(".content-card", { 
                y: 40, 
                opacity: 0, 
                stagger: 0.1, 
                duration: 0.8, 
                ease: "power2.out" 
            }, "-=0.4");
        });
    </script>
</body>
</html>
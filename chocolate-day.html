<!DOCTYPE html>
<html class="dark" lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Chocolate Day Experience</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üç´</text></svg>">
    <!-- Date Lock Protection - Redirect if day is locked -->
    <script src="date-lock.js"></script>
    <script src="mobile-ui.js"></script>
    <script>checkPageAccess(9);</script>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;300;400;500;600;700;800&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
    
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#bd580f",
                        "primary-light": "#d97732",
                        "background-light": "#f8f7f6",
                        "background-dark": "#221810",
                        "cocoa-dark": "#1a0f0a",
                        "cocoa-medium": "#3e2723",
                        "caramel": "#bd580f",
                        "cream": "#f3e5dc",
                    },
                    fontFamily: {
                        "display": ["Plus Jakarta Sans", "sans-serif"],
                        "body": ["Plus Jakarta Sans", "sans-serif"],
                    },
                    backgroundImage: {
                        'chocolate-gradient': 'linear-gradient(to bottom right, #2a1b12, #180d08)',
                        'foil-shimmer': 'linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.1) 50%, rgba(255,255,255,0.1) 75%, transparent 75%, transparent)',
                    }
                },
            },
        }
    </script>
    <style>
        body {
            font-family: "Plus Jakarta Sans", sans-serif;
        }
        /* Custom scrollbar for a cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #2a1b12;
        }
        ::-webkit-scrollbar-thumb {
            background: #bd580f;
            border-radius: 4px;
        }
        .foil-texture {
            background-image: url(https://lh3.googleusercontent.com/aida-public/AB6AXuC3GNZfh8loroLFvLbhKifAbhsPZqzeAw7QUxysbU8XS4HZGcSKF8FREwTZEDkO69lCpvw_Mx9hukUqngaRfNT8CXpqRG1XP1N5FGuS48UvObUzTxUTxd6ukUXMXPjYk96fuZhIkhgEyByCMLiH5HTf-AONHMDREXil6NutPcaTyQqUNRUfSDsUl8BMex2NodYrOUvYEAVbuDBlZO5Dqs4RT-rO28n_XABjegAF2ZeoQU8Uws_EO34tsFtcySv05R2ZJ_VvjFrehiQ);
        }
        /* Subtle floating animation for decor */
        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(2deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }
        .float-anim {
            animation: float 6s ease-in-out infinite;
        }
        .float-anim-delay {
            animation: float 7s ease-in-out infinite;
            animation-delay: 1s;
        }
    </style>
</head>
<body class="bg-background-light dark:bg-cocoa-dark text-slate-900 dark:text-cream min-h-screen flex flex-col md:flex-row overflow-hidden" id="app-body">
    
    <!-- Mobile Overlay -->
    <div id="sidebar-overlay" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-40 hidden opacity-0 transition-opacity duration-300"></div>
    
    <!-- Toast Container -->
    <div id="toast-container" class="fixed bottom-6 right-6 z-50 flex flex-col gap-2 pointer-events-none"></div>

    <!-- Side Navigation -->
    <aside id="main-sidebar" class="fixed inset-y-0 left-0 w-[280px] md:static md:w-[320px] flex-shrink-0 bg-[#2a1b12] dark:bg-[#221811] flex flex-col border-r border-[#3e2723] h-full md:h-screen overflow-y-auto z-50 transform -translate-x-full md:translate-x-0 transition-transform duration-300 shadow-2xl md:shadow-none sidebar-panel">
        <div class="p-6 pb-2">
            <div class="flex gap-3 items-center mb-8 sidebar-header">
                <div class="bg-center bg-no-repeat bg-cover rounded-full size-12 shadow-lg border-2 border-primary" data-alt="Abstract chocolate swirl avatar" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuC_cKnasXi3_NtICFck5vI3BP_NkgFB_l7oyX6DIemnCNuIqhxN-rxpx65NNrpNo4YoMCg9qX1jVmRdotF891HYHz3npwklnjQPkiBjv3aJeaJfoZ3XEBDQsB3z7s-RAQ05qcHXwvI-hb-K1wY5gznTwPVQNB4w4ENTD9vejih7jgpAzaWB6nnT99SQcNnwYK_pH_okAplmlqA6f2fUb0Z0h_ln2BirMhdgqyn9h4CZH1n8OXNCxWxJ2jXPMXCG65zfhwCe72LWP68");'></div>
                <div class="flex flex-col">
                    <h1 class="text-white text-lg font-bold leading-tight tracking-tight">Valentine's 2026</h1>
                    <p class="text-primary text-xs font-medium uppercase tracking-wider">Interactive Chronicle</p>
                </div>
                <button id="sidebar-close-btn" class="md:hidden ml-auto p-2 text-cream/60 hover:text-primary transition-colors">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
            
            <nav class="flex flex-col gap-2 sidebar-nav">
                <!-- Navigation Items -->
                <a href="rose-day.html" class="flex items-center gap-3 px-4 py-3 rounded-xl transition-colors hover:bg-white/5 group opacity-70 hover:opacity-100 nav-item cursor-pointer">
                    <span class="material-symbols-outlined text-cream/80 group-hover:text-primary transition-colors">deceased</span>
                    <span class="text-cream text-sm font-medium">Rose Day</span>
                </a>
                <a href="propose-day.html" class="flex items-center gap-3 px-4 py-3 rounded-xl transition-colors hover:bg-white/5 group opacity-70 hover:opacity-100 nav-item cursor-pointer">
                    <span class="material-symbols-outlined text-cream/80 group-hover:text-primary transition-colors">ring_volume</span>
                    <span class="text-cream text-sm font-medium">Propose Day</span>
                </a>
                
                <!-- Active State: Chocolate Day -->
                <a class="flex items-center gap-3 px-4 py-3 rounded-xl bg-gradient-to-r from-[#4e342a] to-[#3e2723] border border-[#5d4033] shadow-lg relative overflow-hidden group nav-item active cursor-pointer" onclick="handleNavClick(this, 'Chocolate Day')">
                    <div class="absolute inset-0 bg-primary/10 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                    <span class="material-symbols-outlined text-primary fill-current">cookie</span>
                    <div class="flex flex-col">
                        <span class="text-white text-sm font-bold">Chocolate Day</span>
                        <span class="text-[10px] text-primary-light">Feb 09 ‚Ä¢ Entry 03</span>
                    </div>
                </a>

                <a href="teddy-day.html" class="flex items-center gap-3 px-4 py-3 rounded-xl transition-colors hover:bg-white/5 group opacity-70 hover:opacity-100 nav-item cursor-pointer">
                    <span class="material-symbols-outlined text-cream/80 group-hover:text-primary transition-colors">redeem</span>
                    <span class="text-cream text-sm font-medium">Teddy Day</span>
                </a>
                <a href="promise-day.html" class="flex items-center gap-3 px-4 py-3 rounded-xl transition-colors hover:bg-white/5 group opacity-70 hover:opacity-100 nav-item cursor-pointer">
                    <span class="material-symbols-outlined text-cream/80 group-hover:text-primary transition-colors">handshake</span>
                    <span class="text-cream text-sm font-medium">Promise Day</span>
                </a>
                <a href="hug-day.html" class="flex items-center gap-3 px-4 py-3 rounded-xl transition-colors hover:bg-white/5 group opacity-70 hover:opacity-100 nav-item cursor-pointer">
                    <span class="material-symbols-outlined text-cream/80 group-hover:text-primary transition-colors">sentiment_satisfied</span>
                    <span class="text-cream text-sm font-medium">Hug Day</span>
                </a>
                <a href="kiss-day.html" class="flex items-center gap-3 px-4 py-3 rounded-xl transition-colors hover:bg-white/5 group opacity-70 hover:opacity-100 nav-item cursor-pointer">
                    <span class="material-symbols-outlined text-cream/80 group-hover:text-primary transition-colors">favorite</span>
                    <span class="text-cream text-sm font-medium">Kiss Day</span>
                </a>
                <a href="valentines-day.html" class="flex items-center gap-3 px-4 py-3 rounded-xl transition-colors hover:bg-white/5 group opacity-70 hover:opacity-100 nav-item cursor-pointer">
                    <span class="material-symbols-outlined text-cream/80 group-hover:text-primary transition-colors">favorite_border</span>
                    <span class="text-cream text-sm font-medium">Valentine's Day</span>
                </a>
            </nav>
        </div>

        <div class="mt-auto p-6 flex flex-col gap-6 bg-[#1f1610] sidebar-footer">
            <!-- Sweetness Meter -->
            <div class="flex flex-col gap-3">
                <div class="flex justify-between items-end">
                    <span class="text-cream text-sm font-bold tracking-wide">Sweetness Meter</span>
                    <span class="text-primary text-xs font-semibold">70% Dark</span>
                </div>
                <div class="h-10 w-full bg-[#3e2723] rounded-lg relative overflow-hidden shadow-inner border border-[#4e342e]">
                    <!-- Liquid Chocolate Effect -->
                    <div id="sweetness-fill" class="absolute bottom-0 left-0 top-0 bg-gradient-to-r from-[#8d400b] to-[#bd580f] w-0 rounded-l-lg flex items-center justify-end px-2">
                        <div class="w-full h-full absolute inset-0 opacity-20 foil-texture"></div>
                    </div>
                    <!-- Drip styling -->
                    <div id="sweetness-drip" class="absolute top-0 left-0 -ml-1 w-2 h-full bg-[#bd580f] blur-[2px] opacity-0"></div>
                </div>
                <span class="text-[#8d6e63] text-xs italic">Current Mood: Rich & Intense</span>
            </div>

            <!-- User Actions -->
            <div class="flex items-center justify-between pt-4 border-t border-[#3e2723]">
                <button class="text-[#8d6e63] hover:text-white transition-colors flex items-center gap-2 text-sm">
                    <span class="material-symbols-outlined text-[20px]">settings</span>
                    Settings
                </button>
                <button class="text-[#8d6e63] hover:text-primary transition-colors flex items-center gap-2 text-sm">
                    <span class="material-symbols-outlined text-[20px]">logout</span>
                </button>
            </div>
        </div>
    </aside>

    <!-- Main Content Area -->
    <main class="flex-1 relative h-screen overflow-y-auto bg-cocoa-dark scroll-smooth main-content">
        <!-- Mobile Header -->
        <div class="md:hidden flex items-center justify-between p-4 bg-[#2a1b12]/80 backdrop-blur-md sticky top-0 z-30 border-b border-[#3e2723]">
            <div class="flex items-center gap-2">
                <span class="text-xl">üç´</span>
                <span class="font-bold text-cream tracking-wide">Chocolate Day</span>
            </div>
            <button id="mobile-menu-btn" class="text-[#8d6e63] hover:text-primary transition-colors p-2 rounded-lg hover:bg-white/5">
                <span class="material-symbols-outlined text-2xl">menu</span>
            </button>
        </div>
        <!-- Abstract Background Pattern -->
        <div class="absolute inset-0 pointer-events-none overflow-hidden">
            <div class="absolute top-[-10%] right-[-10%] w-[600px] h-[600px] rounded-full bg-[#3e2723] blur-[120px] opacity-30 mix-blend-screen"></div>
            <div class="absolute bottom-[10%] left-[-10%] w-[500px] h-[500px] rounded-full bg-[#5d4037] blur-[100px] opacity-20 mix-blend-screen"></div>
            <!-- Floating Cocoa Beans (CSS only representation) -->
            <div class="absolute top-20 right-20 w-8 h-12 bg-[#4e342e] rounded-[50%] rotate-12 opacity-40 blur-[1px] float-anim bean-float"></div>
            <div class="absolute bottom-40 left-32 w-6 h-10 bg-[#3e2723] rounded-[50%] -rotate-12 opacity-30 blur-[2px] float-anim-delay bean-float"></div>
        </div>

        <div class="relative z-10 max-w-[1800px] mx-auto px-6 py-10 md:px-12 lg:px-16">
            <!-- Hero Section -->
            <header class="flex flex-col md:flex-row gap-8 items-start justify-between mb-12 hero-section">
                <div class="flex flex-col gap-4 max-w-2xl hero-text">
                    <div class="flex items-center gap-3">
                        <span class="px-3 py-1 rounded-full bg-[#3e2723] border border-[#5d4033] text-primary text-xs font-bold uppercase tracking-wider">Entry 03 / 08</span>
                        <span class="w-1.5 h-1.5 rounded-full bg-primary animate-pulse"></span>
                        <span class="text-[#8d6e63] text-sm">February 9th</span>
                    </div>
                    <h1 class="text-5xl md:text-7xl font-extrabold text-transparent bg-clip-text bg-gradient-to-b from-white to-[#d7ccc8] tracking-tight drop-shadow-sm">
                        Chocolate Day
                        <span class="inline-block align-middle ml-2 text-5xl filter drop-shadow-lg float-anim">üç´</span>
                    </h1>
                    <p class="text-xl text-[#a1887f] font-light leading-relaxed max-w-lg">
                        Indulge in the rich history and sweetness of love. Today is about textures, tastes, and the luxurious melt of affection.
                    </p>
                </div>

                <div class="hidden md:flex flex-col items-end gap-3 hero-widget">
                    <div class="bg-[#2a1b12]/80 backdrop-blur-sm p-4 rounded-2xl border border-[#3e2723] shadow-xl max-w-[280px]">
                        <div class="flex items-center gap-3 mb-2">
                            <div class="p-2 bg-primary/20 rounded-lg text-primary">
                                <span class="material-symbols-outlined">light_mode</span>
                            </div>
                            <div>
                                <p class="text-xs text-[#8d6e63]">Daily Forecast</p>
                                <p class="text-sm font-bold text-cream">Warm & Melty</p>
                            </div>
                        </div>
                        <p class="text-xs text-[#8d6e63] leading-snug">Perfect conditions for sharing a box of truffles in the park.</p>
                    </div>
                </div>
            </header>

            <!-- Main Interactive Content -->
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-10 content-grid">
                <!-- Left Column: Featured Card -->
                <div class="lg:col-span-8 flex flex-col gap-8">
                    <!-- Hero Card -->
                    <div class="relative rounded-3xl overflow-hidden group bg-[#2a1b12] border border-[#3e2723] shadow-2xl min-h-[480px] content-card">
                        <!-- Background Image -->
                        <div class="absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-105" data-alt="Dark liquid chocolate swirl texture" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuBqQZO8QibumBvHZB3d8jg1x6tlgDfzUKkfXajSuP_0xF4S3N0jY_cNhkdV3st-2x2jGh6YbjSiZJecRlwTJr_ykLlaSJFcSt3Xdan4HSFQXD8ip4_I-nNtkbyYhZhJamW2sVXCVT54XjS-psMioCWwPmbQvlqChzeujXp8gH_LzR4OT5Y9BIAPtRR-guTgWAgNkZifLk-OChG7mlEPBcI_xqo5AEXB6PRV9l0OUysmAZjDqtYtG5gPE57sQWZoFRngndUd3uQ9B_Q");'></div>
                        <div class="absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent opacity-90"></div>
                        
                        <div class="relative h-full flex flex-col justify-end p-8 md:p-10 z-10">
                            <h2 class="text-3xl md:text-4xl font-bold text-white mb-3">Unwrap the Sweetness</h2>
                            <p class="text-[#d7ccc8] text-base md:text-lg max-w-xl mb-8 font-light">
                                Chocolate symbolizes affection, luxury, and passion. Celebrate the richness of love with the finest cocoa memories curated just for you.
                            </p>
                            <div class="flex flex-wrap gap-4">
                                <button onclick="handleUnwrap()" class="bg-primary hover:bg-[#d97732] text-white px-6 py-3.5 rounded-xl font-bold text-sm tracking-wide shadow-lg shadow-primary/20 transition-all flex items-center gap-2 transform hover:-translate-y-1 active:scale-95">
                                    <span class="material-symbols-outlined text-[20px]">redeem</span>
                                    Unwrap Daily Surprise
                                </button>
                                <button onclick="handleHistory()" class="bg-white/10 hover:bg-white/20 backdrop-blur-md text-white px-6 py-3.5 rounded-xl font-medium text-sm border border-white/10 transition-all flex items-center gap-2 active:scale-95">
                                    <span class="material-symbols-outlined text-[20px]">history_edu</span>
                                    Read History
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Curated Selections Grid -->
                    <div class="flex flex-col gap-4">
                        <div class="flex items-center justify-between">
                            <h3 class="text-2xl font-bold text-cream">Curated Selections</h3>
                            <a class="text-primary text-sm font-medium hover:text-[#d97732] transition-colors flex items-center gap-1 cursor-pointer">
                                View All <span class="material-symbols-outlined text-[16px]">arrow_forward</span>
                            </a>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <!-- Card 1 -->
                            <div class="bg-[#2a1b12] p-4 rounded-2xl border border-[#3e2723] hover:border-primary/50 transition-colors group cursor-pointer flex gap-4 items-center content-card">
                                <div class="w-20 h-20 rounded-xl bg-cover bg-center shrink-0 shadow-md group-hover:shadow-primary/20 transition-all" data-alt="Gourmet dark chocolate truffles" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuBQtIDEa26INinJKqxYVrOz-8aez40F092-0PXU57dVtsRxxBTPf10Al4T0WjUgYSGYtj5w7QmNCd0OR73hmGKynaEDFXYTtEFAX4Ty1Q0O1AZM2P-QRJKpknOZ7vwz0JSGsCNBiTvkA8F5FzjWFa8bd2gZG2t_GarGg4BTaB8kMHz5cky97kYs_jLOA64FXMnFAvN3qh0X1qAz2WqlcZaH0x5usTlgm57xTC100-cZaKIop-iF2PU_rRrLq8TbJJKaswzoSMPp4p0");'></div>
                                <div>
                                    <h4 class="text-white font-bold mb-1 group-hover:text-primary transition-colors">Belgian Truffles</h4>
                                    <p class="text-[#8d6e63] text-xs mb-2">Rich dark chocolate ganache rolled in cocoa powder.</p>
                                    <span class="text-xs bg-[#3e2723] text-[#d7ccc8] px-2 py-1 rounded-md">Artisan</span>
                                </div>
                            </div>
                            <!-- Card 2 -->
                            <div class="bg-[#2a1b12] p-4 rounded-2xl border border-[#3e2723] hover:border-primary/50 transition-colors group cursor-pointer flex gap-4 items-center content-card">
                                <div class="w-20 h-20 rounded-xl bg-cover bg-center shrink-0 shadow-md group-hover:shadow-primary/20 transition-all" data-alt="Caramel filled chocolate squares" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuAClpIJLzoGEnd6PMHn-GvkfgIiKLxr4GcF5WNpD6qqeHP4Vvz37s2aSAIt55Ex-9bJ-rFxALpVSGpUx7NbJW7WxEUa0hks_zsrMoxYwMeuevvM4DYbwqgYhO_J8SQnmYVIxPwYFXpqSroEYKU5C2YxjYyrh8jYtgoA4bc2c1LCPTqbHb1N392Rse_Su9MWnlrrvAiAoZa01ROjtSrfRU8v5KMWd48bB1PxIvy9ke7wfjXu9mDfJoUmYeSrno2s9iG8QRiYKcOEy0E");'></div>
                                <div>
                                    <h4 class="text-white font-bold mb-1 group-hover:text-primary transition-colors">Salted Caramel</h4>
                                    <p class="text-[#8d6e63] text-xs mb-2">Gooey caramel center with sea salt crystals.</p>
                                    <span class="text-xs bg-[#3e2723] text-[#d7ccc8] px-2 py-1 rounded-md">Bestseller</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column: Activity & Stats -->
                <div class="lg:col-span-4 flex flex-col gap-6">
                    <!-- Activity Widget -->
                    <div class="bg-[#2a1b12] rounded-3xl p-6 border border-[#3e2723] shadow-lg relative overflow-hidden content-card">
                        <div class="absolute top-0 right-0 w-32 h-32 bg-primary/10 rounded-bl-full -mr-8 -mt-8"></div>
                        <div class="relative z-10">
                            <div class="flex items-center gap-3 mb-4">
                                <div class="p-2.5 bg-primary rounded-xl text-white shadow-lg shadow-primary/30">
                                    <span class="material-symbols-outlined">send</span>
                                </div>
                                <h3 class="text-lg font-bold text-white">Send a Virtual Truffle</h3>
                            </div>
                            <p class="text-[#a1887f] text-sm mb-6">Surprise your partner with a digital sweet treat that unlocks a hidden message.</p>
                            
                            <div class="flex flex-col gap-3">
                                <input id="truffle-name" type="text" placeholder="Partner's Name" class="w-full bg-[#1f1610] border border-[#3e2723] rounded-xl px-4 py-3 text-sm text-cream focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all placeholder-[#5d4037]">
                                <div class="flex gap-2">
                                    <button class="flavor-btn flex-1 py-3 bg-[#3e2723] hover:bg-[#4e342e] text-[#d7ccc8] rounded-xl text-sm font-medium transition-colors border border-transparent hover:border-[#5d4033]" onclick="selectFlavor(this, 'Dark')">
                                        Dark
                                    </button>
                                    <button class="flavor-btn flex-1 py-3 bg-primary text-white rounded-xl text-sm font-medium shadow-lg shadow-primary/20 hover:bg-[#d97732] transition-colors active-flavor" onclick="selectFlavor(this, 'Milk')">
                                        Milk
                                    </button>
                                    <button class="flavor-btn flex-1 py-3 bg-[#3e2723] hover:bg-[#4e342e] text-[#d7ccc8] rounded-xl text-sm font-medium transition-colors border border-transparent hover:border-[#5d4033]" onclick="selectFlavor(this, 'White')">
                                        White
                                    </button>
                                </div>
                                <button onclick="handleSend()" class="w-full mt-2 py-3 bg-white/5 hover:bg-white/10 text-primary border border-primary/30 rounded-xl text-sm font-bold transition-all uppercase tracking-wide active:scale-95">
                                    Send Sweetness
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Did You Know Card -->
                    <div id="fact-card" class="bg-[#3e2723]/30 rounded-3xl p-6 border border-[#3e2723] backdrop-blur-sm content-card">
                        <div class="flex items-center justify-between mb-3">
                            <h4 class="text-cream font-bold text-sm uppercase tracking-wider">Chocolate Fact</h4>
                            <span class="material-symbols-outlined text-primary text-[20px]">school</span>
                        </div>
                        <p class="text-[#d7ccc8] text-sm leading-relaxed mb-4">
                            The Aztecs believed cacao seeds were a gift from Quetzalcoatl, the god of wisdom, and the seeds were so valuable they were used as currency.
                        </p>
                        <div class="h-1 w-full bg-[#2a1b12] rounded-full overflow-hidden">
                            <div class="h-full w-1/3 bg-primary rounded-full"></div>
                        </div>
                        <p class="text-[10px] text-[#8d6e63] mt-2 text-right">Fact 1 of 3</p>
                    </div>

                    <!-- Mini Calendar / Upcoming -->
                    <div class="flex flex-col gap-3 content-card">
                        <h4 class="text-[#8d6e63] font-medium text-xs uppercase tracking-wider px-1">Up Next</h4>
                        <a href="#" class="flex items-center gap-4 bg-[#2a1b12] p-3 rounded-2xl border border-[#3e2723] group hover:border-primary/30 transition-all">
                            <div class="w-12 h-12 rounded-xl bg-[#3e2723] flex items-center justify-center text-[#d7ccc8] group-hover:text-white group-hover:bg-primary/20 transition-colors">
                                <span class="material-symbols-outlined">redeem</span>
                            </div>
                            <div class="flex-1">
                                <p class="text-white text-sm font-bold">Teddy Day</p>
                                <p class="text-[#8d6e63] text-xs">Tomorrow, Feb 10</p>
                            </div>
                            <span class="material-symbols-outlined text-[#5d4037] group-hover:translate-x-1 transition-transform">chevron_right</span>
                        </a>
                    </div>
                </div>
            </div>
            
            <footer class="mt-12 border-t border-[#3e2723] pt-8 flex flex-col md:flex-row justify-between items-center gap-4">
                <p class="text-[#5d4037] text-sm">¬© 2026 Valentine's Chronicle. Designed with love.</p>
                <div class="flex gap-4">
                    <a href="#" class="text-[#5d4037] hover:text-primary transition-colors"><span class="material-symbols-outlined">share</span></a>
                    <a href="#" class="text-[#5d4037] hover:text-primary transition-colors"><span class="material-symbols-outlined">favorite</span></a>
                </div>
            </footer>
        </div>
    </main>

    <script>
        // Interactive Logic State
        let selectedFlavor = 'Milk';
        const facts = [
            "The Aztecs believed cacao seeds were a gift from Quetzalcoatl, the god of wisdom, and the seeds were so valuable they were used as currency.",
            "White chocolate isn't technically chocolate because it contains no cocoa solids or chocolate liquor.",
            "It takes approximately 400 cacao beans to make one pound (450g) of chocolate."
        ];
        let currentFactIndex = 0;

        // Toast Notification System
        function showToast(message, type = 'success') {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            
            const colors = type === 'success' ? 'bg-[#3e2723] border-primary text-cream' : 'bg-red-900 border-red-500 text-white';
            const icon = type === 'success' ? 'check_circle' : 'error';
            
            toast.className = `pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl border ${colors} shadow-xl transform translate-y-10 opacity-0 transition-all duration-300 min-w-[200px] z-[100] backdrop-blur-md bg-opacity-90`;
            toast.innerHTML = `
                <span class="material-symbols-outlined text-primary">${icon}</span>
                <span class="text-sm font-medium">${message}</span>
            `;
            
            container.appendChild(toast);
            
            // Animate In
            requestAnimationFrame(() => {
                toast.classList.remove('translate-y-10', 'opacity-0');
            });

            // Remove after 3s
            setTimeout(() => {
                toast.classList.add('translate-y-10', 'opacity-0');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Navigation Handler
        function handleNavClick(element, dayName) {
            // Remove active classes from all nav items
            document.querySelectorAll('.nav-item').forEach(el => {
                el.classList.remove('active', 'bg-gradient-to-r', 'from-[#4e342a]', 'to-[#3e2723]', 'border', 'border-[#5d4033]', 'shadow-lg');
                el.classList.add('opacity-70', 'hover:bg-white/5');
                
                // Reset icon styling (nested element logic handled simpler via CSS classes in HTML structure, 
                // but explicit reset here ensures cleanliness)
                const icon = el.querySelector('.material-symbols-outlined');
                if(icon) {
                    icon.classList.remove('text-primary', 'fill-current');
                    icon.classList.add('text-cream/80');
                }
                
                // Hide overlay
                const overlay = el.querySelector('div.absolute');
                if(overlay) overlay.style.display = 'none';
            });

            // Add active classes to clicked item
            element.classList.remove('opacity-70', 'hover:bg-white/5');
            element.classList.add('active', 'bg-gradient-to-r', 'from-[#4e342a]', 'to-[#3e2723]', 'border', 'border-[#5d4033]', 'shadow-lg');
            
            const icon = element.querySelector('.material-symbols-outlined');
            if(icon) {
                icon.classList.remove('text-cream/80');
                icon.classList.add('text-primary', 'fill-current');
            }

            // Show toast
            showToast(`Mapsd to ${dayName}`);
        }

        // Flavor Selection
        function selectFlavor(btn, flavor) {
            // Reset all flavor buttons
            document.querySelectorAll('.flavor-btn').forEach(b => {
                b.classList.remove('bg-primary', 'text-white', 'shadow-lg', 'shadow-primary/20', 'active-flavor');
                b.classList.add('bg-[#3e2723]', 'text-[#d7ccc8]');
            });

            // Activate clicked button
            btn.classList.remove('bg-[#3e2723]', 'text-[#d7ccc8]');
            btn.classList.add('bg-primary', 'text-white', 'shadow-lg', 'shadow-primary/20', 'active-flavor');
            
            selectedFlavor = flavor;
        }

        // Send Truffle Logic
        function handleSend() {
            const input = document.getElementById('truffle-name');
            const name = input.value.trim();
            
            if (!name) {
                showToast('Please enter a name first!', 'error');
                input.focus();
                // Shake animation using GSAP
                gsap.from(input, { x: 10, duration: 0.1, repeat: 5, yoyo: true });
                return;
            }

            const btn = document.querySelector('button[onclick="handleSend()"]');
            const originalText = btn.innerHTML;
            
            // Loading state
            btn.innerHTML = '<span class="animate-pulse">Sending...</span>';
            btn.disabled = true;
            btn.classList.add('opacity-70');

            setTimeout(() => {
                showToast(`Sent a ${selectedFlavor} truffle to ${name}!`);
                btn.innerHTML = originalText;
                btn.disabled = false;
                btn.classList.remove('opacity-70');
                input.value = '';
                
                // Success bounce
                gsap.to(btn, { scale: 1.05, duration: 0.1, yoyo: true, repeat: 1 });
            }, 1500);
        }

        // Unwrap Surprise Logic
        function handleUnwrap() {
            const quotes = [
                "Life is like a box of chocolates...",
                "You are sweeter than the finest truffle.",
                "All you need is love. But a little chocolate now and then doesn't hurt."
            ];
            const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
            showToast(`Surprise! ${randomQuote}`);
        }

        // History Logic (Cycles through facts)
        function handleHistory() {
            currentFactIndex = (currentFactIndex + 1) % facts.length;
            const factCard = document.getElementById('fact-card');
            
            // Fade out
            gsap.to(factCard, {
                opacity: 0,
                y: 10,
                duration: 0.3,
                onComplete: () => {
                    // Update content
                    const factText = factCard.querySelector('p');
                    const factCount = factCard.querySelector('p.text-right');
                    
                    factText.textContent = facts[currentFactIndex];
                    factCount.textContent = `Fact ${currentFactIndex + 1} of ${facts.length}`;
                    
                    // Fade in
                    gsap.to(factCard, { opacity: 1, y: 0, duration: 0.3 });
                }
            });
        }

        // Countdown Logic
        function startCountdown() {
            function update() {
                // Target: Feb 10 2026 (Teddy Day)
                updateCountdown('2026-02-10T00:00:00', { d: 'cd-d', h: 'cd-h', m: 'cd-m', s: 'cd-s' });
            }
            setInterval(update, 1000);
            update();
        }

        // GSAP Animations (Initialization)
        window.addEventListener('load', () => {
            gsap.registerPlugin();
            startCountdown();
            
            const tl = gsap.timeline();

            // 1. Initial Body Reveal
            tl.from("#app-body", { opacity: 0, duration: 0.5 });

            // 2. Sidebar Reveal (Desktop Only)
            if (window.innerWidth >= 768) {
                tl.from(".sidebar-panel", { opacity: 0, duration: 0.8, ease: "power3.out" }, "-=0.2")
                  .from(".sidebar-header", { opacity: 0, y: -10, duration: 0.5 }, "-=0.4")
                  .from(".nav-item", { x: -20, opacity: 0, stagger: 0.05, duration: 0.5, ease: "power2.out" }, "-=0.3")
                  .from(".sidebar-footer", { opacity: 0, y: 20, duration: 0.5 }, "-=0.3");
            }

            // 3. Main Content - Hero Section
            tl.from(".hero-text", { y: 30, opacity: 0, duration: 0.8, ease: "back.out(1.7)" }, "-=0.5")
              .from(".hero-widget", { x: 20, opacity: 0, duration: 0.8, ease: "power2.out" }, "-=0.6");

            // 4. Cards Staggered Entry
            tl.from(".content-card", { 
                y: 50, 
                opacity: 0, 
                stagger: 0.1, 
                duration: 0.8, 
                ease: "power2.out" 
            }, "-=0.4");

            // 5. Floating Beans Fade In
            gsap.from(".bean-float", { opacity: 0, duration: 2, delay: 1 });

            // 6. Sweetness Meter Fill Animation
            gsap.to("#sweetness-fill", { 
                width: "70%", 
                duration: 1.5, 
                ease: "power2.inOut", 
                delay: 1,
                onUpdate: function() {
                    // Move the drip with the bar
                    const progress = this.progress();
                    const width = progress * 70; 
                    gsap.set("#sweetness-drip", { left: width + "%", opacity: progress > 0.1 ? 0.6 : 0 });
                }
            });
            
            // Interactive: Hover effects on cards
            const cards = document.querySelectorAll('.content-card');
            cards.forEach(card => {
                card.addEventListener('mouseenter', () => {
                    gsap.to(card, { y: -5, duration: 0.3, ease: "power1.out" });
                });
                card.addEventListener('mouseleave', () => {
                    gsap.to(card, { y: 0, duration: 0.3, ease: "power1.out" });
                });
            });
        });
    </script>
</body>
</html>